<div class="login-wrapper">
  <div class="login-container">
    <!-- Left Side - Branding & Features -->
    <div class="brand-section">
      <div class="brand-content">
        <!-- Logo -->
        <div class="logo">
          <div class="logo-icon">
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
              <path
                d="M24 2L30 10L40 6L42 16L34 22L42 30L40 40L30 36L24 44L18 36L8 40L6 30L14 22L6 16L8 6L18 10L24 2Z"
                fill="#2563eb"
              />
              <circle cx="24" cy="24" r="8" fill="#059669" />
              <path
                d="M20 24L22 26L28 20"
                stroke="white"
                stroke-width="3"
                stroke-linecap="round"
              />
            </svg>
          </div>
          <div class="brand-text">
            <h1 class="brand-name">HealthSync</h1>
            <!-- ✅ تغيير الاسم -->
            <p class="brand-tagline">Enterprise Healthcare Platform</p>
          </div>
        </div>

        <!-- Welcome Message -->
        <div class="welcome-section">
          <h2 class="welcome-title">Welcome Back</h2>
          <p class="welcome-subtitle">
            Sign in to access your medical dashboard and continue managing
            appointments
          </p>
        </div>

        <!-- Features -->
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                  d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
                  stroke="#059669"
                  stroke-width="2"
                />
                <path
                  d="M19 12C19 13.8565 18.2625 15.637 16.9497 16.9497C15.637 18.2625 13.8565 19 12 19C10.1435 19 9.36301 18.2625 8.55585 20.3149C7.46392 19.8626 6.47177 19.1997 5.63604 18.364C4.80031 17.5282 4.13738 16.5361 3.68508 15.4442C3.23279 14.3522 3 13.1819 3 12C3 9.61305 3.94821 7.32387 5.63604 5.63604C7.32387 3.94821 9.61305 3 12 3Z"
                  stroke="#059669"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <div class="feature-content">
              <h3>Secure Access</h3>
              <p>HIPAA compliant authentication</p>
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                  d="M9 12L11 14L15 10M12 3C13.1819 3 14.3522 3.23279 15.4442 3.68508C16.5361 4.13738 17.5282 4.80031 18.364 5.63604C19.1997 6.47177 19.8626 7.46392 20.3149 8.55585C20.7672 9.64778 21 10.8181 21 12C21 13.1819 20.7672 14.3522 20.3149 15.4442C19.8626 16.5361 19.1997 17.5282 18.364 18.364C17.5282 19.1997 16.5361 19.8626 15.4442 20.3149C14.3522 20.7672 13.1819 21 12 21C10.8181 21 9.64778 20.7672 8.55585 20.3149C7.46392 19.8626 6.47177 19.1997 5.63604 18.364C4.80031 17.5282 4.13738 16.5361 3.68508 15.4442C3.23279 14.3522 3 13.1819 3 12C3 9.61305 3.94821 7.32387 5.63604 5.63604C7.32387 3.94821 9.61305 3 12 3Z"
                  stroke="#2563eb"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <div class="feature-content">
              <h3>Real-time Sync</h3>
              <p>Instant appointment updates</p>
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                  d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
                  stroke="#7c3aed"
                  stroke-width="2"
                />
                <path
                  d="M12 1V3M12 21V23M4 12H2M22 12H20M19 5L17 7M7 7L5 5M19 19L17 17M7 17L5 19"
                  stroke="#7c3aed"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <div class="feature-content">
              <h3>Multi-role</h3>
              <p>Patient, Doctor & Admin portals</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Side - Login Form -->
    <div class="form-section">
      <div class="form-container">
        <!-- Form Header -->
        <div class="form-header">
          <h2 class="form-title">Sign In</h2>
          <p class="form-subtitle">Access your HealthSync account</p>
          <!-- ✅ تغيير الاسم -->
        </div>

        <!-- Session Expired Alert -->
        <div *ngIf="sessionExpired" class="alert alert-warning" role="alert">
          <div class="alert-icon">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path
                d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z"
                stroke="#f59e0b"
                stroke-width="1.5"
              />
              <path
                d="M10 6V10M10 14H10.01"
                stroke="#f59e0b"
                stroke-width="1.5"
                stroke-linecap="round"
              />
            </svg>
          </div>
          <div class="alert-content">
            <h4>Session Expired</h4>
            <p>{{ errorMessage }}</p>
          </div>
        </div>

        <!-- Login Form -->
        <form
          [formGroup]="loginForm"
          (ngSubmit)="onSubmit()"
          class="login-form"
        >
          <!-- Email Field -->
          <div class="form-group">
            <label for="email" class="input-label">
              <span>Email Address</span>
              <span class="required-asterisk">*</span>
            </label>
            <div
              class="input-container"
              [class.input-error]="email?.invalid && email?.touched"
            >
              <div class="input-prefix">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path
                    d="M2.5 6.66667L8.232 10.596C8.688 10.924 9.312 10.924 9.768 10.596L15.5 6.66667M4.5 4H14.5C15.6046 4 16.5 4.89543 16.5 6V14C16.5 15.1046 15.6046 16 14.5 16H4.5C3.39543 16 2.5 15.1046 2.5 14V6C2.5 4.89543 3.39543 4 4.5 4Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    fill="none"
                  />
                </svg>
              </div>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input"
                placeholder="Enter your email address"
                aria-describedby="emailError"
                [attr.aria-invalid]="email?.invalid && email?.touched"
              />
            </div>
            <div
              *ngIf="email?.invalid && email?.touched"
              class="error-message"
              id="emailError"
            >
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path
                  d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z"
                  stroke="#ef4444"
                  stroke-width="1.5"
                />
                <path
                  d="M8 5V8M8 11H8.01"
                  stroke="#ef4444"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </svg>
              <span *ngIf="email?.errors?.['required']">Email is required</span>
              <span *ngIf="email?.errors?.['email']"
                >Please enter a valid email address</span
              >
            </div>
          </div>

          <!-- Password Field -->
          <div class="form-group">
            <div class="label-row">
              <label for="password" class="input-label">
                <span>Password</span>
                <span class="required-asterisk">*</span>
              </label>
              <a routerLink="/auth/forgot-password" class="forgot-password">
                <!-- ✅ تغيير من href إلى routerLink -->
                Forgot Password?
              </a>
            </div>
            <div
              class="input-container"
              [class.input-error]="password?.invalid && password?.touched"
            >
              <div class="input-prefix">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path
                    d="M15 8H16C16.5304 8 17.0391 8.21071 17.4142 8.58579C17.7893 8.96086 18 9.46957 18 10V16C18 16.5304 17.7893 17.0391 17.4142 17.4142C17.0391 17.7893 16.5304 18 16 18H4C3.46957 18 2.96086 17.7893 2.58579 17.4142C2.21071 17.0391 2 16.5304 2 16V10C2 9.46957 2.21071 8.96086 2.58579 8.58579C2.96086 8.21071 3.46957 8 4 8H5M15 8V5C15 3.67392 14.4732 2.40215 13.5355 1.46447C12.5979 0.526784 11.3261 0 10 0C8.67392 0 7.40215 0.526784 6.46447 1.46447C5.52678 2.40215 5 3.67392 5 5V8M15 8H5"
                    stroke="currentColor"
                    stroke-width="1.5"
                    fill="none"
                  />
                </svg>
              </div>
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                formControlName="password"
                class="form-input"
                placeholder="Enter your password"
                aria-describedby="passwordError"
                [attr.aria-invalid]="password?.invalid && password?.touched"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
                [attr.aria-pressed]="showPassword"
              >
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path
                    *ngIf="!showPassword"
                    d="M10 4C14.4183 4 18 7.58172 18 12C18 16.4183 14.4183 20 10 20C5.58172 20 2 16.4183 2 12C2 7.58172 5.58172 4 10 4Z"
                    fill="currentColor"
                  />
                  <path
                    *ngIf="!showPassword"
                    d="M10 14C11.1046 14 12 13.1046 12 12C12 10.8954 11.1046 10 10 10C8.89543 10 8 10.8954 8 12C8 13.1046 8.89543 14 10 14Z"
                    fill="#ffffff"
                  />
                  <path
                    *ngIf="showPassword"
                    d="M2 2L18 18M10 4C14.4183 4 18 7.58172 18 12C18 12.9319 17.8136 13.8198 17.4749 14.6321M14.9497 13.9497C14.218 14.6814 13.1974 15.1464 12.0711 15.2063M5.52513 9.36791C5.18636 10.1802 5 11.0681 5 12C5 16.4183 8.58172 20 13 20C14.9319 20 16.8198 19.8136 17.6321 19.4749M10 4C8.06812 4 6.18018 4.18636 5.36791 4.52513M1 1L19 19"
                    stroke="currentColor"
                    stroke-width="1.5"
                    fill="none"
                  />
                </svg>
              </button>
            </div>
            <div
              *ngIf="password?.invalid && password?.touched"
              class="error-message"
              id="passwordError"
            >
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path
                  d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z"
                  stroke="#ef4444"
                  stroke-width="1.5"
                />
                <path
                  d="M8 5V8M8 11H8.01"
                  stroke="#ef4444"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </svg>
              <span *ngIf="password?.errors?.['required']"
                >Password is required</span
              >
              <span *ngIf="password?.errors?.['minlength']"
                >Password must be at least 6 characters</span
              >
            </div>
          </div>

          <!-- Remember Me -->
          <div class="remember-me">
            <label class="checkbox-label">
              <input
                type="checkbox"
                formControlName="rememberMe"
                class="checkbox-input"
              />
              <span class="checkbox-custom"></span>
              <span class="checkbox-text">Remember me for 30 days</span>
            </label>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="login-button"
            [disabled]="loginForm.invalid || loading"
            [class.loading]="loading"
          >
            <span *ngIf="!loading" class="button-text">Sign In</span>
            <div *ngIf="loading" class="loading-indicator">
              <div class="spinner"></div>
              <span>Signing In...</span>
            </div>
          </button>

          <!-- Error Message (لأخطاء المصادقة) -->
          <div
            *ngIf="errorMessage && !sessionExpired"
            class="alert alert-error"
            role="alert"
          >
            <div class="alert-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path
                  d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z"
                  stroke="#ef4444"
                  stroke-width="1.5"
                />
                <path
                  d="M10 6V10M10 14H10.01"
                  stroke="#ef4444"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <div class="alert-content">
              <h4>Authentication Failed</h4>
              <p>{{ errorMessage }}</p>
            </div>
          </div>

          <!-- Divider -->
          <div class="divider">
            <span>Or continue with</span>
          </div>

          <!-- Alternative Login Options -->
          <div class="alternative-login">
            <button type="button" class="alt-login-btn google-btn" disabled>
              <!-- ✅ تعطيل مؤقت -->
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                <path
                  d="M16.5 9.18182C16.5 8.62364 16.4455 8.08 16.3455 7.55455H9V10.65H13.3455C13.1455 11.64 12.5455 12.4727 11.6545 13.0364V15.0455H14.1818C15.6 13.6682 16.5 11.6545 16.5 9.18182Z"
                  fill="#4285F4"
                />
                <path
                  d="M9 17C11.1 17 12.9 16.2727 14.1818 15.0455L11.6545 13.0364C10.9636 13.5364 10.0636 13.8636 9 13.8636C6.96364 13.8636 5.23636 12.4455 4.60909 10.5727H2.99091V12.6455C4.26364 15.1545 6.44545 17 9 17Z"
                  fill="#34A853"
                />
                <path
                  d="M4.60909 10.5727C4.40909 10.0273 4.29545 9.44545 4.29545 8.84545C4.29545 8.24545 4.40909 7.66364 4.60909 7.11818V5.04545H2.99091C2.35455 6.29091 2 7.70909 2 9.18182C2 10.6545 2.35455 12.0727 2.99091 13.3182L4.60909 10.5727Z"
                  fill="#FBBC05"
                />
                <path
                  d="M9 4.31818C10.1636 4.31818 11.2091 4.70909 12.0455 5.46364L14.2364 3.27273C12.9 2.00909 11.1 1.36364 9 1.36364C6.44545 1.36364 4.26364 3.20909 2.99091 5.04545L4.60909 7.11818C5.23636 5.24545 6.96364 4.31818 9 4.31818Z"
                  fill="#EA4335"
                />
              </svg>
              <span>Google</span>
            </button>

            <button type="button" class="alt-login-btn microsoft-btn" disabled>
              <!-- ✅ تعطيل مؤقت -->
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                <path d="M1 1H8.5V8.5H1V1Z" fill="#F25022" />
                <path d="M9.5 1H17V8.5H9.5V1Z" fill="#7FBA00" />
                <path d="M1 9.5H8.5V17H1V9.5Z" fill="#00A4EF" />
                <path d="M9.5 9.5H17V17H9.5V9.5Z" fill="#FFB900" />
              </svg>
              <span>Microsoft</span>
            </button>
          </div>

          <!-- Sign Up Link -->
          <div class="signup-link">
            <p>
              Don't have an account?
              <a routerLink="/auth/register" class="link">Create account</a>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
